<div  *ngIf="!_sessionService.CurrentSession.validSession" id="pnlLogin">
    <app-messageboxes></app-messageboxes>
    <div class="container" style="padding-top:25px;">
        <div class="row">
            <div class="col-md-4 col-md-offset-4">
                <div class="login-panel panel panel-default">
                    <div class="panel-heading">
                        <h3 class="panel-title">Please Sign In</h3>
                    </div>
                    <div class="panel-body">
                        <form role="form" [formGroup]="form" (ngSubmit)="LogIn()"  id="ngForm" #loginForm="ngForm">
                            <fieldset>
                                <div id="pnlUserName" class="form-group">
                                    <label>Username</label>
                                    <input [(ngModel)]="userName" name="userName" #name formControlName="userName" class="input-sm form-control" type="text">
                                    <div *ngIf="form.controls.userName.touched && !form.controls.userName.valid" class="alert alert-danger">
                                        Username is required.
                                    </div>
                                </div>
                                <div id="pnlUserPassword" class="form-group">
                                    <label class="control-label" for="password">Password</label>
                                    <input #password formControlName="password" type="password" id="password" name="password" class="input-sm form-control">
                                    <div *ngIf="form.controls.password.touched && !form.controls.password.valid" class="alert alert-danger">
                                        Please type a valid password.
                                    </div>
                                </div>
                                <p-checkbox [(ngModel)]="rememberMe" label="Remember Me" binary="true" formControlName="rememberMe"></p-checkbox>
             
                            </fieldset>
                            <button *ngIf="!authorizing" class="btn btn-primary btn-block"
                                    (click)="loginForm.ngSubmit.emit()"
                                    [disabled]="!loginForm.form.valid">
                                Login
                            </button>
                            <div *ngIf="authorizing" style="width:100%; text-align: center;"> <i class="fa fa-spinner fa-spin fa-2x"></i> </div>
                    </form>
                </div>
                </div>
            </div>
        </div>
    </div>
    <div style="text-align:center;">
        <a routerLink="/users/profile" routerLinkActive="active" >Register</a>&nbsp;&nbsp;&nbsp;&nbsp;
        <a routerLink="/membership/login-help" routerLinkActive="active" >Login Help</a>
    </div>
</div>
<div  *ngIf="_sessionService.CurrentSession.validSession"  style="text-align:center;padding-top:25px;">
        <button (click)="LogOut()"  *ngIf="!authorizing" type="button" id="bntLogout" class="btn btn-default" >Log Out</button>
        <div *ngIf="authorizing" style="width:100%; text-align: center;"> <i class="fa fa-spinner fa-spin fa-2x"></i> </div>
</div>
